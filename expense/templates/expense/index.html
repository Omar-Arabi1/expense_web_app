<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <script src="https://cdn.jsdelivr.net/npm/htmx.org@2.0.6/dist/htmx.min.js"></script>
        <script src="https://cdn.tailwindcss.com"></script>
        <title>Expenses</title>
    </head>
    <body class="Geist bg-[#18181b]" hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'>
        <h1 class="font-bold text-center text-4xl mb-3 mt-3 text-white">Expense Tracker</h1>
        <div class="flex justify-center">
            <form hx-post="{% url 'expense:add_expense' %}" hx-swap="outerHTML" hx-target="body">
            {% csrf_token %}
                <input class="p-3 border border-[#3f3f46] rounded-md text-center pl-10 pr-10 mb-3 bg-[#27272a] text-gray-400 text-base focus:outline-none focus:ring-0" type="text" placeholder="add expense" name="expense">
                <input class="p-3 border border-[#3f3f46] rounded-md text-center pl-0 pr-0 mb-3 bg-[#27272a] text-gray-400 text-base focus:outline-none focus:ring-0" type="text" placeholder="add price" name="price">
                <button class="p-3 border border-[#fef08a] rounded-md text-center mb-3 bg-[#fef08a]" type="submit">add</button>
            </form>
        </div>
        <div class="flex justify-center">
            {% if expenses %}
                <ul>
                    {% for expense in expenses %}
                    <li>
                        <div class="flex flex-row space-x-5">
                            <p class="text-2xl mb-2 text-white font-semibold">{{ expense.expense }}</p> 
                            <p class="text-2xl mb-2 text-green-400 font-semibold">${{ expense.price }}</p>
                        </div>
                        <form hx-put="{% url 'expense:update_expense' expense.id %}" hx-swap="outerHTML" hx-target="body">
                            <input class="p-1 border border-[#3f3f46] rounded-md text-center mb-3 bg-[#27272a] text-gray-400 text-base focus:outline-none focus:ring-0" type="text" placeholder="update expense" name="expense">
                            <input class="p-1 border border-[#3f3f46] rounded-md text-center mb-3 bg-[#27272a] text-gray-400 text-base focus:outline-none focus:ring-0" type="text" placeholder="update price" name="price">
                            <button class="bg-blue-500 border border-blue-600 rounded-md p-1 text-center mb-3 font-semibold" type="submit">ðŸ–‰ edit</button>
                        </form>
                        <button class="bg-rose-500 border border-rose-600 rounded-md p-1 text-center mb-5 font-semibold" hx-delete="{% url 'expense:remove_expense' expense.id %}" hx-swap="outerHTML" hx-target="body" type="submit">delete</button>
                    </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p class="text-sm mb-5 mt-1 text-gray-400">your list is empty</p>
            {% endif %}
        </div>
        <div class="flex justify-center flex-row space-x-5 ">
            <button class="bg-green-500 border border-green-600 rounded-md p-3 text-center mb-5 font-semibold duration-200 transition-all hover:bg-green-400 hover:border-green-500" type="submit">ðŸ–º Export</button>
            <button class="bg-amber-400 border border-amber-500 rounded-md p-3 text-center mb-5 font-semibold duration-200 transition-all hover:bg-amber-300 hover:border-amber-400" type="submit">â¨¸ Calculate</button>
        </div>
    </body>
</html>